from sklearn.feature_extraction.text import CountVectorizer
from sklearn.naive_bayes import MultinomialNB
from sklearn.model_selection import train_test_split
from sklearn.metrics import accuracy_score

# Sample dataset
emails = [
    "Win money now",
    "Free lottery offer",
    "Claim your prize today",
    "Congratulations you won cash",
    "Limited time offer win prize",
    "Hi how are you",
    "Let's meet tomorrow",
    "Are you coming to class",
    "Please call me later",
    "Hope you are doing well"
]

# Labels: 1 = Spam, 0 = Not Spam
labels = [1, 1, 1, 1, 1, 0, 0, 0, 0, 0]

# Convert text to numbers
vectorizer = CountVectorizer()
X = vectorizer.fit_transform(emails)

# Split data into train and test
X_train, X_test, y_train, y_test = train_test_split(
    X, labels, test_size=0.3, random_state=42
)

# Train model
model = MultinomialNB()
model.fit(X_train, y_train)

# Predict test data
y_pred = model.predict(X_test)

# Accuracy
accuracy = accuracy_score(y_test, y_pred)
print("Accuracy:", accuracy)

# Test with new email
test_email = ["You have won a free cash prize"]
test_vector = vectorizer.transform(test_email)
result = model.predict(test_vector)

if result[0] == 1:
    print("Spam Email")
else:
    print("Not Spam Email")
